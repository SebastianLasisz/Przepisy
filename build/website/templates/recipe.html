{% extends "base.html" %}
{% block content %}
    <a href="/recipe/{{ recipe.id }}/uprate/"><span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span></a>
    {{ recipe.rating }}
    <a href="/recipe/{{ recipe.id }}/downrate/"><span class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span></a>
    <p><b>Name:</b> {{ recipe.name }} </p>
    <p><b>Description:</b> {{ recipe.description|safe }} </p>
    <p><b>Calories: {{ recipe.calories }}</b></p>
    <p><b>Health labels: {{ recipe.healthLabels }}</b></p>
    <p><b>Diet labels: {{ recipe.dietLabels }}</b></p>
    <b><p>Ingredients:</p></b>
    {% for items in ingredients %}
        <p>{{ items.quantity }} {{ items.unit }} {{ items.product }}
        <p>Calories: {{ items.calories }} </p>
        <p>Health labels: {{ items.healthLabels }}</p>
        <p>Diet labels: {{ items.dietLabels }}</p>
        </p>
    {% endfor %}
    <p><b>Recipe steps: </b>
    <p>{{ recipe.recipe_steps|safe }}</p>
    </p>
    <p><b>Yields: </b> {{ recipe.yields }}</p>
    <p><b>Creation date: </b> {{ recipe.date }}</p>

    <a href="/get_ingredients_details_for_recipe/{{ recipe.id }}">get ingredients details</a>

    <h1> Comments </h1>
    {{ csrftoken }}
    <form action="/add_comment/{{ recipe.id }}/" method="post">
        {% csrf_token %}
        <p style="color:#FF0000"><b>{{ error }}</b></p>
        <table class="table table-condensed">
            {{ form.as_table }}
        </table>
        <input type="submit" class="btn btn-default pull-right" value="Add Comment"/>
    </form>

    {% for comment in comments %}
        {{ comment.comment|safe }}
    {% endfor %}
{% endblock content %}